<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaxBet - –ú–∏–Ω–∏-–∏–≥—Ä—ã</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéÆ</text></svg>">
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="minigames.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <div class="logo">üéÆ MaxBet - –ú–∏–Ω–∏-–∏–≥—Ä—ã</div>
        <div class="user-info">
            <div class="balance">
                –ë–∞–ª–∞–Ω—Å: <span id="user-balance">0 –ª—É–ø–∞–Ω—á–∏–∫–æ–≤</span>
            </div>
            <div class="user-menu">
                <span>–ü—Ä–∏–≤–µ—Ç, <span id="username">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</span>
                <button class="btn btn-secondary" onclick="logout()" style="padding: 8px 16px; width: auto;">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>
    
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="navigation">
        <a href="main.html" class="nav-tab">üìÖ –°–æ–±—ã—Ç–∏—è</a>
        <a href="minigames.html" class="nav-tab active">üéÆ –ú–∏–Ω–∏-–∏–≥—Ä—ã</a>
        <a href="history.html" class="nav-tab">üìä –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫</a>
        <a href="profile.html" class="nav-tab">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="admin.html" class="nav-tab" id="admin-link" style="display: none;">üõ†Ô∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</a>
        <a href="moderator.html" class="nav-tab" id="moderator-link" style="display: none;">üõ°Ô∏è –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</a>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="main-content">

        
        <!-- –í–∫–ª–∞–¥–∫–∏ –∏–≥—Ä -->
        <div class="games-tabs">
            <button class="game-tab active" onclick="showGame('blackjack')">üÉè 21 –æ—á–∫–æ</button>
            <button class="game-tab" onclick="showGame('dice')">üé≤ –ö–æ—Å—Ç–∏</button>
            <button class="game-tab" onclick="showGame('roulette')">üé∞ –†—É–ª–µ—Ç–∫–∞</button>
        </div>
        
        <!-- –ò–≥—Ä–∞ 21 –æ—á–∫–æ -->
        <div id="blackjack-game" class="game-container active">
            <h2>üÉè 21 –æ—á–∫–æ</h2>
            <p class="game-description">–¢—è–Ω–∏—Ç–µ –∫–∞—Ä—Ç—ã –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–±—Ä–∞—Ç—å 21 –æ—á–∫–æ! –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞: 2x</p>
            
            <div class="game-controls">
                <div class="bet-controls">
                    <label>–°—Ç–∞–≤–∫–∞ (–ª—É–ø–∞–Ω—á–∏–∫–∏):</label>
                    <input type="number" id="blackjack-bet" min="1" max="1000" value="10" class="bet-input">
                    <button class="btn" onclick="startBlackjack()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                </div>
            </div>
            
            <div class="game-area">
                <div class="player-area">
                    <h3>–í–∞—à–∏ –∫–∞—Ä—Ç—ã</h3>
                    <div id="player-cards" class="cards-container"></div>
                    <div id="player-score" class="score">–û—á–∫–∏: 0</div>
                </div>
                
                <div class="dealer-area">
                    <h3>–ö–∞—Ä—Ç—ã –¥–∏–ª–µ—Ä–∞</h3>
                    <div id="dealer-cards" class="cards-container"></div>
                    <div id="dealer-score" class="score">–û—á–∫–∏: 0</div>
                </div>
                
                <div class="game-actions" id="blackjack-actions" style="display: none;">
                    <button class="btn" onclick="hitCard()">–í–∑—è—Ç—å –∫–∞—Ä—Ç—É</button>
                    <button class="btn" onclick="standGame()">–•–≤–∞—Ç–∏—Ç</button>
                </div>
                
                <div id="blackjack-result" class="game-result"></div>
            </div>
        </div>
        
        <!-- –ò–≥—Ä–∞ –ö–æ—Å—Ç–∏ -->
        <div id="dice-game" class="game-container">
            <h2>üé≤ –ö–æ—Å—Ç–∏</h2>
            <p class="game-description">–£–≥–∞–¥–∞–π—Ç–µ —á–∏—Å–ª–æ –Ω–∞ –∫–æ—Å—Ç–∏! –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞: 5x</p>
            
            <div class="game-controls">
                <div class="bet-controls">
                    <label>–°—Ç–∞–≤–∫–∞ (–ª—É–ø–∞–Ω—á–∏–∫–∏):</label>
                    <input type="number" id="dice-bet" min="1" max="1000" value="10" class="bet-input">
                    <label>–í–∞—à–µ —á–∏—Å–ª–æ (1-6):</label>
                    <input type="number" id="dice-guess" min="1" max="6" value="3" class="bet-input">
                    <button class="btn" onclick="playDice()">–ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏</button>
                </div>
            </div>
            
            <div class="game-area">
                <div class="dice-display">
                    <div id="dice-result" class="dice">?</div>
                </div>
                <div id="dice-result-text" class="game-result"></div>
            </div>
        </div>
        
        <!-- –ò–≥—Ä–∞ –†—É–ª–µ—Ç–∫–∞ -->
        <div id="roulette-game" class="game-container">
            <h2>üé∞ –†—É–ª–µ—Ç–∫–∞</h2>
            <p class="game-description">–°—Ç–∞–≤—å—Ç–µ –Ω–∞ —á–∏—Å–ª–∞, —Ü–≤–µ—Ç–∞ –∏–ª–∏ —Å–µ–∫—Ç–æ—Ä–∞! –†–∞–∑–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤—ã–∏–≥—Ä—ã—à–∞</p>
            
            <div class="game-controls">
                <div class="bet-controls">
                    <label>–°—Ç–∞–≤–∫–∞ (–ª—É–ø–∞–Ω—á–∏–∫–∏):</label>
                    <input type="number" id="roulette-bet" min="1" max="1000" value="10" class="bet-input">
                    <div class="roulette-bet-types">
                        <button class="bet-type-btn" onclick="selectRouletteBet('red')">üî¥ –ö—Ä–∞—Å–Ω–æ–µ (2x)</button>
                        <button class="bet-type-btn" onclick="selectRouletteBet('black')">‚ö´ –ß–µ—Ä–Ω–æ–µ (2x)</button>
                        <button class="bet-type-btn" onclick="selectRouletteBet('even')">‚ö™ –ß–µ—Ç–Ω–æ–µ (2x)</button>
                        <button class="bet-type-btn" onclick="selectRouletteBet('odd')">‚ö™ –ù–µ—á–µ—Ç–Ω–æ–µ (2x)</button>
                        <button class="bet-type-btn" onclick="selectRouletteBet('1-18')">1-18 (2x)</button>
                        <button class="bet-type-btn" onclick="selectRouletteBet('19-36')">19-36 (2x)</button>
                    </div>
                    <div class="number-bets">
                        <label>–ò–ª–∏ —Å—Ç–∞–≤–∫–∞ –Ω–∞ —á–∏—Å–ª–æ (0-36):</label>
                        <input type="number" id="roulette-number" min="0" max="36" class="bet-input">
                        <button class="bet-type-btn" onclick="selectRouletteBet('number')">–ß–∏—Å–ª–æ (35x)</button>
                    </div>
                    <div id="selected-bet" class="selected-bet">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å—Ç–∞–≤–∫–∏</div>
                    <button class="btn" onclick="spinRoulette()" id="spin-btn" disabled>–ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É</button>
                </div>
            </div>
            
            <div class="game-area">
                <div class="roulette-wheel">
                    <div id="roulette-result" class="roulette-number">?</div>
                </div>
                <div id="roulette-result-text" class="game-result"></div>
            </div>
        </div>
    </div>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="firebase-config.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="sync-manager.js"></script>
    
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
        const user = localStorage.getItem('currentUser');
        if (!user) {
            window.location.href = 'login.html';
        } else {
            try {
                const userData = JSON.parse(user);
                document.getElementById('username').textContent = userData.username;
                document.getElementById('user-balance').textContent = `${userData.balance || 0} –ª—É–ø–∞–Ω—á–∏–∫–æ–≤`;
                console.log('üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω:', userData.username);
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
        window.logout = function() {
            localStorage.removeItem('currentUser');
            window.location.href = 'login.html';
        };
        

    </script>
    
    <script src="minigames.js"></script>
</body>
</html> 
