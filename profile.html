<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaxBet - –ü—Ä–æ—Ñ–∏–ª—å</title>
    <link rel="stylesheet" href="common.css">
    <link rel="stylesheet" href="profile.css">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <div class="logo">üéØ MaxBet</div>
        <div class="user-info">
            <div class="balance">
                –ë–∞–ª–∞–Ω—Å: <span id="user-balance">0 –º–æ–Ω–µ—Ç</span>
            </div>
            <div class="user-menu">
                <span>–ü—Ä–∏–≤–µ—Ç, <span id="username">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</span>
                <button class="btn btn-secondary" onclick="logout()" style="padding: 8px 16px; width: auto;">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="navigation">
        <a href="main.html" class="nav-tab">üìÖ –°–æ–±—ã—Ç–∏—è</a>
        <a href="history.html" class="nav-tab">üìä –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫</a>
        <a href="profile.html" class="nav-tab active">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="admin.html" class="nav-tab" id="admin-link" style="display: none;">üõ†Ô∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</a>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="main-content">
        <h1 class="page-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div id="profile-stats" class="profile-stats">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
        <div class="profile-grid">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ -->
            <div class="profile-card">
                <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</h3>
                <div class="profile-info">
                    <div class="info-item">
                        <span class="info-label">–õ–æ–≥–∏–Ω:</span>
                        <span class="info-value" id="profile-username">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–†–æ–ª—å:</span>
                        <span class="info-value" id="profile-role">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ë–∞–ª–∞–Ω—Å:</span>
                        <span class="info-value" id="profile-balance">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–õ–∏–º–∏—Ç —Å—Ç–∞–≤–∫–∏:</span>
                        <span class="info-value" id="profile-bet-limit">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                        <span class="info-value" id="profile-registered">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                        <span class="info-value" id="profile-status">-</span>
                    </div>
                </div>
            </div>

            <!-- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
            <div class="profile-card">
                <h3>üîí –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h3>
                <div class="password-form">
                    <div class="form-group">
                        <label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:</label>
                        <input type="password" id="currentPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å">
                    </div>
                    <div class="form-group">
                        <label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                        <input type="password" id="newPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                    </div>
                    <div class="form-group">
                        <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                        <input type="password" id="confirmPassword" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å">
                    </div>
                    <button class="btn" onclick="changePassword()">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                </div>
            </div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
        <div class="transactions-section">
            <h3 class="section-title">üí∞ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</h3>
            <div id="transactions-list" class="transactions-list">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...</div>
            </div>
        </div>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
        <div class="notifications-settings">
            <h3 class="section-title">üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
            
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞–≤–∫–∞—Ö</div>
                    <div class="setting-description">–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–æ–≥–¥–∞ —Å—Ç–∞–≤–∫–∞ –≤—ã–∏–≥—Ä–∞–ª–∞ –∏–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞–ª–∞</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="notifyBets" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">–ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è</div>
                    <div class="setting-description">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –¥–ª—è —Å—Ç–∞–≤–æ–∫</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="notifyEvents" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">–ü—Ä–æ–º–æ–∞–∫—Ü–∏–∏</div>
                    <div class="setting-description">–ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ–Ω—É—Å–∞—Ö –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="notifyPromos">
                    <span class="slider"></span>
                </label>
            </div>

            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                    <div class="setting-description">–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="emailNotify">
                    <span class="slider"></span>
                </label>
            </div>

            <div style="margin-top: 20px;">
                <button class="btn" onclick="saveNotificationSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ -->
    <div id="topupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('topupModal')">&times;</span>
            <h3 class="modal-title">üí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h3>
            <div class="form-group">
                <label>–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:</label>
                <input type="number" id="topupAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100" max="50000">
            </div>
            <div class="form-group">
                <label>–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:</label>
                <select id="paymentMethod">
                    <option value="card">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞</option>
                    <option value="wallet">üíº –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫</option>
                    <option value="crypto">‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</option>
                </select>
            </div>
            <div style="text-align: right;">
                <button class="btn btn-secondary" onclick="closeModal('topupModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn" onclick="processTopup()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ -->
    <div id="withdrawModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('withdrawModal')">&times;</span>
            <h3 class="modal-title">üí∏ –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
            <div class="form-group">
                <label>–°—É–º–º–∞ –≤—ã–≤–æ–¥–∞:</label>
                <input type="number" id="withdrawAmount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" min="100">
            </div>
            <div class="form-group">
                <label>–°–ø–æ—Å–æ–± –≤—ã–≤–æ–¥–∞:</label>
                <select id="withdrawMethod">
                    <option value="card">üí≥ –ù–∞ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É</option>
                    <option value="wallet">üíº –ù–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫</option>
                    <option value="crypto">‚Çø –í –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ</option>
                </select>
            </div>
            <div class="form-group">
                <label>–†–µ–∫–≤–∏–∑–∏—Ç—ã:</label>
                <input type="text" id="withdrawDetails" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –∫–æ—à–µ–ª—å–∫–∞ –∏–ª–∏ –∞–¥—Ä–µ—Å">
            </div>
            <div style="text-align: right;">
                <button class="btn btn-secondary" onclick="closeModal('withdrawModal')">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn" onclick="processWithdraw()">–í—ã–≤–µ—Å—Ç–∏</button>
            </div>
        </div>
    </div>

    <script src="firebase-config.js"></script>
    <script type="module" src="profile.js"></script>
</body>
</html>
